# Neo4j configuration for OpenDiscourse
# Custom configuration for the political knowledge graph

# JVM arguments
server.jvm.additional=-Djdk.tls.ephemeralDHKeySize=2048
server.jvm.additional=-Djdk.tls.namedGroups="secp256r1,secp384r1,secp521r1,X25519,X448,ffdhe2048,ffdhe3072,ffdhe4096"

# Database
dbms.default_database=opendiscourse
dbms.default_listen_address=0.0.0.0
dbms.default_advertised_address=localhost

# Memory
server.memory.heap.initial_size=1G
server.memory.heap.max_size=2G
server.memory.pagecache.size=1G

# Authentication
dbms.security.auth_enabled=true
dbms.security.procedures.unrestricted=apoc.*

# Network connectors
dbms.connector.bolt.enabled=true
dbms.connector.bolt.tls_level=DISABLED
dbms.connector.bolt.listen_address=:7687
dbms.connector.http.enabled=true
dbms.connector.http.listen_address=:7474
dbms.connector.https.enabled=false

# Logging
dbms.logs.query.enabled=true
dbms.logs.query.parameter_logging_enabled=true
dbms.logs.query.threshold=10s

# Performance tuning
dbms.transaction.timeout=60s
dbms.backup.enabled=false
dbms.routing.enabled=false

# Graph data science
dbms.security.procedures.allowlist=gds.*
dbms.security.procedures.unrestricted=gds.*

# APOC configuration
apoc.import.file.enabled=true
apoc.export.file.enabled=true
apoc.import.file.use_neo4j_config=true
apoc.trigger.enabled=true

# Clustering (single instance)
dbms.mode=SINGLE